Команда find

Общий синтаксис команды find выглядит так:
find [directory to search] [options] [expression]
Всё, что в квадратных скобках, указывать необязательно. А значит, выполнить команду find можно вообще без опций и параметров. Она выдаст список всех файлов и папок в текущем расположении.
directory to search (папка поиска) — это расположение, с которого вы хотите начать поиск. Поиск по умолчанию рекурсивный и начинается с текущего расположения.
options (опции) содержит указание типа поиска: по имени, типу файла, времени изменения и так далее — тут может быть более 50 вариантов.
expression (выражение) содержит поисковый запрос. Если вы ищете файл по имени, параметр expression должен содержать имя файла. Если ищете файлы с именем, соответствующим заданному шаблону, поисковое выражение — это шаблон.

find . -type f -name SEARCH_NAME
команда выполнит поиск файла (именно файла, не папки) по заданному имени в текущей папке и подпапках. Опция -type f сужает поиск до файлов. Точка (.) указывает на текущую папку.

Поиск папок и файлов по имени
find . -name SEARCH_NAME
Поскольку тип объекта не указан, команда выполняет поиск и файлов, и папок.

find . -type f -name SEARCH_NAME - поиск файла
find . -type d -name SEARCH_NAME - поиск папки
Тип и имя можно указывать в любом порядке.

Команда find по умолчанию учитывает регистр. Чтобы выполнить поиск по имени файла без учёта регистра, надо ввести опцию -iname вместо -name.
find . -type f -iname SEARCH_NAME - файл
find . -type d -iname SEARCH_NAME - папка

Поиск файлов по расширению
При работе с командой find всегда заключайте поисковое выражение в двойные кавычки.
find . -type f -name "*.txt" 
Без кавычек оболочка будет работать с символом * как с джокером и выполнит подстановку.

Поиск нескольких файлов с несколькими расширениями (или условием)
Ввести команду один раз с опцией -o, которая работает как логическое условие «или»:
find . -type f -name "*.cpp" -o -name "*.txt" 

Поиск пустых файлов и папок
Опция -empty позволяет использовать команду find для поиска пустых файлов и папок
find . -empty
Можно указать тип объектов, чтобы искать только файлы или только папки:
find . -empty -type f

Поиск крупных и мелких файлов (поиск по размеру файла)
Используется опция -size с аргументом +N для файлов размером более N и -N для файлов размером менее N.
Так можно найти файлы точного заданного размера (50 КБ):
find . -size 50k
Поиск файлов размером более 1 ГБ в текущей папке:
find . -size +1G
Для файлов, не превышающих 20 байт:
find . -size -20c
Для поиска файлов размером более 100 МБ, но менее 2ГБ:
find . -size +100M -size -2G
Поиск по размеру можно сочетать с поиском по имени файла. Таким образом, найти в корневом каталоге все файлы размером более 500 МБ с именем, оканчивающимся на .log, можно так:
find / -size +500M -name "*.log"
Для справки:
c – байты
k – килобайты
M – мегабайты
G – гигабайты

Поиск недавно изменённых файлов (поиск по времени изменения или создания)
Mtime – время последнего изменения файла
Ctime – время создания файла
Atime – время последнего доступа к файлу

Найти все файлы, претерпевшие изменения за последние трое суток (3*24ч), можно так:
find . -type f -mtime -3
Все файлы, созданные пять и более дней назад:
find . -type f -ctime +5
Выявить файлы, изменённые всего пару минут назад: опции mmin, amin и cmin.
Команда поиска всех файлов, изменённых за последние пять минут:
find . -type f -mmin -5
Можно не только указать имя файла, но и ограничить временной промежуток с двух сторон. Эта команда выполнит поиск всех файлов .java, изменённых не ранее 30 и не позднее 20 минут назад:
find . -type f -mmin +20 -mmin -30 -name "*.java"

Сочетание команд find и grep
Команда find находит файлы с именем, соответствующим шаблону, а затем команда grep выполняет поиск по их содержимому.
Например, нужно найти все файлы .txt, в которых есть имя «Alice». Объединить команды find и grep можно так:
find . -type f -name "*.txt" -exec grep -i alice {} +


















